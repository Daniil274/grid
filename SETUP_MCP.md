# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Grid MCP Server

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã

–í–∞—à–∞ Grid —Å–∏—Å—Ç–µ–º–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ **MCP –∫–ª–∏–µ–Ω—Ç** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä—ã), –Ω–æ –Ω–µ –∏–º–µ–ª–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ **MCP —Å–µ—Ä–≤–µ—Ä–∞** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–≥–µ–Ω—Ç–∞–º –∏–∑ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–∞** - –Ω–µ–ª—å–∑—è –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Grid –∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ Claude Code
2. ‚ùå **–û—à–∏–±–∫–∏ —Å –∏–º–µ–Ω–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –∫–∞–Ω–∞–ª–∞–º–∏ –≤ –∏–º–µ–Ω–∞—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤  
3. ‚ùå **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è Windows
4. ‚ùå **–ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ** - –æ—à–∏–±–∫–∏ –≤ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ

### –†–µ—à–µ–Ω–∏—è:
1. ‚úÖ **–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä** (`mcp_server.py`)
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–∞** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã**

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install mcp>=1.0.0
# –∏–ª–∏
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞
```bash
python start_mcp_server.py
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
python quick_test_mcp.py
```

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
üß™ Quick MCP Server Test
‚úÖ Initialized
‚úÖ Found 54 resources
‚úÖ Found 12 agent tools, 3 system tools
‚úÖ get_grid_status works
‚úÖ Simple agent works: 2 chars response
üéâ MCP Server is working!
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Claude Code

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Claude Code:

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP
–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/.config/claude-code/mcp_servers.json`:

```json
{
  "mcpServers": {
    "grid-agents": {
      "command": "python",
      "args": [
        "/workspaces/grid/start_mcp_server.py",
        "--config", "/workspaces/grid/config.yaml"
      ],
      "env": {}
    }
  }
}
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å–µ—Ä–≤–µ—Ä:

```json
{
  "mcpServers": {
    "grid-agents": {
      "command": "python",
      "args": [
        "/workspaces/grid/mcp_server.py",
        "--config", "/workspaces/grid/config.yaml",
        "--log-level", "INFO"
      ],
      "env": {}
    }
  }
}
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Claude Code –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

### –ê–≥–µ–Ω—Ç—ã (12 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- `run_agent_assistant` - –ë–∞–∑–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –æ–±—â–µ–Ω–∏—è
- `run_agent_simple_test` - –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –∞–≥–µ–Ω—Ç  
- `run_agent_file_agent` - –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏
- `run_agent_git_agent` - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è Git
- `run_agent_researcher` - –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `run_agent_full_agent` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å–æ –≤—Å–µ–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- `run_agent_context_wrapper` - –°–±–æ—Ä—â–∏–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `run_agent_code_agent` - –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∞–Ω–∞–ª–∏–∑—É –∫–æ–¥–∞
- `run_agent_thinker` - –ê–≥–µ–Ω—Ç –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π
- `run_agent_task_analyst` - –ê–Ω–∞–ª–∏—Ç–∏–∫ –∑–∞–¥–∞—á
- `run_agent_debugger` - –ê–≥–µ–Ω—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞
- `run_agent_coordinator` - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)
- `list_grid_agents` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- `get_grid_status` - –°—Ç–∞—Ç—É—Å –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ Grid
- `clear_grid_context` - –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Claude Code

```
# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–π run_agent_coordinator –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

# –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º
–ó–∞–ø—É—Å—Ç–∏ run_agent_code_agent —á—Ç–æ–±—ã –æ–Ω –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –∫–æ–¥ –≤ —Ñ–∞–π–ª–µ main.py

# –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏  
–ò—Å–ø–æ–ª—å–∑—É–π run_agent_file_agent –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

# –†–∞–±–æ—Ç–∞ —Å Git
–í—ã–∑–æ–≤–∏ run_agent_git_agent —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ
–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—É—Å Grid —Å–∏—Å—Ç–µ–º—ã –∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
MCP —Å–µ—Ä–≤–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
```bash
python start_mcp_server.py --log-level DEBUG
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
python quick_test_mcp.py

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)
python test_mcp_server.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Claude Code –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
```
–ü–æ–∫–∞–∂–∏ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip list | grep mcp`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `python -c "from core.config import Config; Config('config.yaml')"`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –æ—Ç–ª–∞–¥–∫–æ–π: `python start_mcp_server.py --log-level DEBUG`

### –ê–≥–µ–Ω—Ç—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç –∏–ª–∏ –¥–∞—é—Ç –æ—à–∏–±–∫–∏
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–≥–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –∞–≥–µ–Ω—Ç—ã: `run_agent_simple_test` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Claude Code –Ω–µ –≤–∏–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Code –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
Claude Code (MCP Client)
    ‚Üì MCP Protocol
Grid MCP Server (mcp_server.py)  
    ‚Üì Internal API
Grid Agent System (agent_factory.py)
    ‚Üì OpenAI Agents SDK
LLM Providers (OpenRouter, LM Studio, etc.)
```

Grid MCP Server –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –º–æ—Å—Ç –º–µ–∂–¥—É Claude Code –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∞–≥–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π MCP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º Grid —Å–∏—Å—Ç–µ–º—ã.

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≥–µ–Ω—Ç–æ–≤** - –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å Grid –∞–≥–µ–Ω—Ç–æ–≤ –ø—Ä—è–º–æ –∏–∑ Claude Code
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é** - –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—É—Ç—å –≤ `config.yaml` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π
3. **–î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á–∏** - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
4. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

Grid —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π MCP! üöÄ