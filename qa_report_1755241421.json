{
  "timestamp": "2025-08-15 07:03:41",
  "summary": {
    "total_tests": 18,
    "passed": 15,
    "failed": 3,
    "warnings": 1,
    "success_rate": 83.3,
    "total_duration": 31.17
  },
  "categories": {
    "basic": {
      "total": 2,
      "passed": 1,
      "failed": 1,
      "warnings": 0,
      "total_duration": 2.193450927734375e-05,
      "tests": [
        {
          "test_name": "config_validation",
          "category": "basic",
          "success": false,
          "error": "'Config' object has no attribute 'get_all_models'",
          "warning": null,
          "duration": 0.0,
          "details": {}
        },
        {
          "test_name": "api_key_check",
          "category": "basic",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.0,
          "details": {
            "details": {
              "key_length": 73
            }
          }
        }
      ]
    },
    "agent_creation": {
      "total": 4,
      "passed": 4,
      "failed": 0,
      "warnings": 0,
      "total_duration": 1.7357707023620605,
      "tests": [
        {
          "test_name": "create_qa_simple_agent",
          "category": "agent_creation",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.02,
          "details": {
            "details": {
              "agent_name": "QA Простой Агент",
              "creation_time": 0.02
            }
          }
        },
        {
          "test_name": "create_qa_test_agent",
          "category": "agent_creation",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.79,
          "details": {
            "details": {
              "agent_name": "QA Тестовый Агент",
              "creation_time": 0.79
            }
          }
        },
        {
          "test_name": "create_qa_mcp_agent",
          "category": "agent_creation",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.86,
          "details": {
            "details": {
              "agent_name": "QA MCP Агент",
              "creation_time": 0.86
            }
          }
        },
        {
          "test_name": "create_qa_coordinator_agent",
          "category": "agent_creation",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.05,
          "details": {
            "details": {
              "agent_name": "QA Координатор",
              "creation_time": 0.05
            }
          }
        }
      ]
    },
    "simple_interactions": {
      "total": 3,
      "passed": 2,
      "failed": 1,
      "warnings": 1,
      "total_duration": 5.013718605041504,
      "tests": [
        {
          "test_name": "interaction_qa_simple_agent_17",
          "category": "simple_interactions",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.94,
          "details": {
            "details": {
              "message": "Привет! Как дела?",
              "response_length": 136,
              "response_time": 1.94,
              "keywords_found": [
                "хорошо"
              ],
              "response_preview": "Здравствуйте! Все хорошо, я в рабочем состоянии и готов приступить к выполнению задач по тестировани..."
            }
          }
        },
        {
          "test_name": "interaction_qa_simple_agent_18",
          "category": "simple_interactions",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.24,
          "details": {
            "details": {
              "message": "Сколько будет 2+2?",
              "response_length": 79,
              "response_time": 1.24,
              "keywords_found": [
                "4"
              ],
              "response_preview": "Хорошо, давайте проверим вычисления:\n2 + 2 = 4\n\nРезультат вычисления корректен."
            }
          }
        },
        {
          "test_name": "interaction_qa_simple_agent_19",
          "category": "simple_interactions",
          "success": false,
          "error": null,
          "warning": "Ключевые слова не найдены",
          "duration": 1.83,
          "details": {
            "details": {
              "message": "Какая сегодня дата?",
              "response_length": 264,
              "response_time": 1.83,
              "keywords_found": [],
              "response_preview": "К сожалению, я не могу вывести точную дату, так как у меня нет доступа к системным часам. Как QA аге..."
            }
          }
        }
      ]
    },
    "tool_usage": {
      "total": 3,
      "passed": 3,
      "failed": 0,
      "warnings": 0,
      "total_duration": 2.9689509868621826,
      "tests": [
        {
          "test_name": "tool_file_read",
          "category": "tool_usage",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.18,
          "details": {
            "details": {
              "message": "Прочитай файл /tmp/grid_qa_test_iqveyip1/qa_test.txt",
              "response_length": 143,
              "response_time": 1.18,
              "tools_used": [],
              "response_preview": "ДЕЙСТВИЕ -> read_file -> filepath=/tmp/grid_qa_test_iqveyip1/qa_test.txt -> ЗАПРОС ГОТОВ\n{\"filepath\": \"/tmp/grid_qa_test_iqveyip1/qa_test.txt\"}"
            }
          }
        },
        {
          "test_name": "tool_file_write",
          "category": "tool_usage",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 0.69,
          "details": {
            "details": {
              "message": "Запиши в файл /tmp/grid_qa_test_iqveyip1/output.txt текст: 'QA тест прошел успешно'",
              "response_length": 214,
              "response_time": 0.69,
              "tools_used": [],
              "response_preview": "ДЕЙСТВИЕ -> write_file -> filepath=/tmp/grid_qa_test_iqveyip1/output.txt, content='QA тест прошел успешно' -> ЗАПРОС ГОТОВ\n{\"content\": \"QA тест прошел..."
            }
          }
        },
        {
          "test_name": "tool_file_list",
          "category": "tool_usage",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.1,
          "details": {
            "details": {
              "message": "Покажи список файлов в директории /tmp/grid_qa_test_iqveyip1",
              "response_length": 122,
              "response_time": 1.1,
              "tools_used": [],
              "response_preview": "ДЕЙСТВИЕ -> list_files -> directory=/tmp/grid_qa_test_iqveyip1 -> ЗАПРОС ГОТОВ\n{\"directory\": \"/tmp/grid_qa_test_iqveyip1\"}"
            }
          }
        }
      ]
    },
    "mcp_integration": {
      "total": 1,
      "passed": 1,
      "failed": 0,
      "warnings": 0,
      "total_duration": 4.478843450546265,
      "tests": [
        {
          "test_name": "mcp_basic",
          "category": "mcp_integration",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 4.48,
          "details": {
            "details": {
              "response_length": 270,
              "response_time": 4.48,
              "response_preview": "call:sequentialthinking{nextThoughtNeeded:true,thought:<ctrl46>Файл 'data.txt' с содержимым 'Это тестовая строка.' успешно создан.\nШаг 3: Прочитать созданный файл.\nИспользуем инструмент read_text_file..."
            }
          }
        }
      ]
    },
    "agent_coordination": {
      "total": 1,
      "passed": 0,
      "failed": 1,
      "warnings": 0,
      "total_duration": 0.30414628982543945,
      "tests": [
        {
          "test_name": "agent_coordination",
          "category": "agent_coordination",
          "success": false,
          "error": "Agent execution failed: Error code: 400 - {'error': {'message': 'Provider returned error', 'code': 400, 'metadata': {'raw': '{\\n  \"error\": {\\n    \"code\": 400,\\n    \"message\": \"* GenerateContentRequest.tools[0].function_declarations[2].name: Invalid function name. Must start with a letter or an underscore. Must be alphameric (a-z, A-Z, 0-9), underscores (_), dots (.) or dashes (-), with a maximum length of 64.\\\\n* GenerateContentRequest.tools[0].function_declarations[3].name: Invalid function name. Must start with a letter or an underscore. Must be alphameric (a-z, A-Z, 0-9), underscores (_), dots (.) or dashes (-), with a maximum length of 64.\\\\n* GenerateContentRequest.tools[0].function_declarations[4].name: Invalid function name. Must start with a letter or an underscore. Must be alphameric (a-z, A-Z, 0-9), underscores (_), dots (.) or dashes (-), with a maximum length of 64.\\\\n\",\\n    \"status\": \"INVALID_ARGUMENT\"\\n  }\\n}\\n', 'provider_name': 'Google AI Studio'}}, 'user_id': 'user_2iya1GoL8jsYoNfn3Dbxb2YulBV'}",
          "warning": null,
          "duration": 0.3,
          "details": {}
        }
      ]
    },
    "error_handling": {
      "total": 3,
      "passed": 3,
      "failed": 0,
      "warnings": 0,
      "total_duration": 3.0508317947387695,
      "tests": [
        {
          "test_name": "error_invalid_file",
          "category": "error_handling",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.02,
          "details": {
            "details": {
              "message": "Прочитай файл /несуществующий/путь/файл.txt",
              "response_length": 135,
              "response_time": 1.02,
              "response_preview": "ДЕЙСТВИЕ -> read_file -> filepath=/несуществующий/путь/файл.txt -> ЗАПРОС ГОТОВ\n{\"filepath\": \"/несущ..."
            }
          }
        },
        {
          "test_name": "error_invalid_operation",
          "category": "error_handling",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.0,
          "details": {
            "details": {
              "message": "Выполни невозможную операцию xyz123",
              "response_length": 44,
              "response_time": 1.0,
              "response_preview": "ДЕЙСТВИЕ -> xyz123 -> ЗАПРОС ГОТОВ - FAILURE"
            }
          }
        },
        {
          "test_name": "error_empty_input",
          "category": "error_handling",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 1.03,
          "details": {
            "details": {
              "message": "",
              "response_length": 216,
              "response_time": 1.03,
              "response_preview": "RunResult:\n- Last agent: Agent(name=\"QA Тестовый Агент\", ...)\n- Final output (str):\n\n- 0 new item(s)..."
            }
          }
        }
      ]
    },
    "performance": {
      "total": 1,
      "passed": 1,
      "failed": 0,
      "warnings": 0,
      "total_duration": 13.62061333656311,
      "tests": [
        {
          "test_name": "response_speed",
          "category": "performance",
          "success": true,
          "error": null,
          "warning": null,
          "duration": 13.62,
          "details": {
            "details": {
              "requests_count": 5,
              "avg_response_time": 2.72,
              "max_response_time": 4.04,
              "min_response_time": 1.47,
              "avg_response_length": 599.0,
              "individual_times": [
                1.47,
                1.69,
                2.62,
                4.04,
                3.8
              ]
            }
          }
        }
      ]
    }
  },
  "config_used": "tests/config_qa.yaml"
}